---
layout: post
title:  "OSI Model Brief on Physical Layer and Data Link Layer"
date:   2017-03-23 14:23:00 +0800
categories: network
---
Docker和Kubernetes都使用了网络虚拟化技术来实现Pod，容器之间的互联互通，为了更好的理解它们所采用的网络模型及工作原理，本文简单总结了物理网络常见的模型及技术，希望能有助于对网络虚拟化技术的理解。

开放式系统互联通信参考模型（Open System Interconnection Reference Model），简称为OSI模型，由国际标准化组织（ISO）提出的一个试图使各种计算机在世界范围内互连为网络的标准框架。定义于ISO/IEC 7498-1。

OSI将计算机网络体系结构划分为以下七层：
1. 物理层（Physical Layer），通过物理介质发送和接收原始比特流
2. 数据链接层（Data Link Layer），通过物理层连接的两个节点之间`可靠`传输数据帧，该层可以进一步分为两种子层：
* 介质访问控制（Media Access Control，MAC）
* 逻辑链路控制（Logic Link Control，LLC） 
3. 网络层（Network Layer），构建和管理多节点网络，包括寻址，路由和流量控制等
4. 传输层（Transport Layer），在网络的各个节点之间可靠地传输数据包，包括分段，确认和复用（segmentation，acknowledgement and multiplexing）
5. 会话层（Session Layer），管理通信会话，即两个节点之间的连续的多次往返传输的信息交换 
6. 表示层（Presentation Layer），网络服务与应用之间的数据翻译; 包括字符编码，数据压缩和加密/解密等
7. 应用层（Application Layer），高级API，包括资源共享，远程文件访问等

在计算机网络每一层N对等实体间通过该层的协议交换协议数据单元（Protocol Data Units， PDU）。每个PDU包含称为服务数据单元（SDU）的有效载荷，以及协议相关的控制信息。

两个OSI兼容的通信设备的数据处理是这样完成的：
1. 数据在发送设备的最上层（层N）被组成协议数据单元（PDU）。
2. PDU被传递到层N-1，这一层它被称为服务数据单元（SDU）。
3. 在层N-1处，SDU与报头/报尾相连接，产生层N-1的PDU，然后将其传递到层N-2。
4. 此过程持续进行，直到到达计算机网络最低层，数据从该最低层传送到接收设备。
5. 在接收设备处，数据从最低层向最高层传送，每一层都从自己的PDU中剥离报头和报尾形成SDU，然后把SDU传递给上一次，直到最顶层。

本文将着重介绍物理层和数据链接层的设备及相关技术。

物理层
------
物理层是计算机网络OSI模型中最低的一层，该层定义了通过物理链路连接的网络节点传输原始比特（并非逻辑数据）的方法。比特流可能会被分组成编码或符号，并被转换成通过硬件传输介质发送的物理信号。 物理层为传输介质提供了机械的，电子的，功能的和规范的特性。该层还规定了电连接器的形状和性质，广播的频率，使用的调制方案和类似的低级参数。简单的说，物理层确保原始的数据可在各种物理媒体上传输。

### 常见的物理层协议
* `Bluetooth，蓝牙`，是一种无线技术标准，可实现固定设备、移动设备和楼宇个人域网之间的短距离数据交换（使用2.4—2.485GHz的ISM波段的UHF无线电波）。蓝牙技术最初由电信巨头爱立信公司于1994年创制，当时是作为RS232数据线的替代方案。蓝牙可连接多个设备，克服了数据同步的难题。
* `Digital Subscriber Line，DSL， 数字用户线路`， 是通过铜线或者本地电话网提供数字连接的一种技术。DSL技术在传递公用电话网络的用户环路上支持对称和非对称传输模式，解决了经常发生在网络服务供应商和最终用户间的“最后一公里”的传输瓶颈问题。DSL包括ADSL（非对称数字用户线）、RADSL（速率自适应数字用户线路）、HDSL（高速用户数字线）和VDSL（超高速用户数字线）等等。
* `EIA RS-232`，美国电子工业联盟（EIA）制定的串行数据通信的接口标准，原始编号全称是EIA-RS-232，被广泛用于计算机串行接口外设连接。EIA-RS-232规定了连接电缆和机械、电气特性、信号功能及发送过程。其他常用电气标准还有EIA-RS-422-A、EIA-RS-423A、EIA-RS-485。 
* `Ethernet（以太网）` 物理层，是计算机网络标准的以太网系列的物理层组件，其定义了设备与网络之间或网络设备之间的物理连接的电气或光学属性。以太网物理层已经演变了相当长的时间，其涵盖了相当多的物理介质接口（从同轴电缆到双绞线和光纤）和速度范围（从1 Mbit / s到100 Gbit / s）。 通常，网络协议栈软件可以类似地工作在所有物理层上。以太网是目前应用最普遍的局域网技术。
* `GSM （Global System for Mobile Communications，全球移动通讯系统） Um Air Interface` 物理层， GSM是由欧洲电信标准协会（ETSI）开发的标准，用于描述手机使用的第二代（2G）数字蜂窝网络的协议，首先在芬兰部署。Um空中接口是GSM移动电话标准的空中接口。 它是移动台（MS）和基站收发台（BTS）之间的接口。
* `G.hn/G.9960` 物理层， G.hn是一个家庭网络规范，数据速率高达1 Gbit / s，以电话线，同轴电缆和电源线为有线传输媒质，能够最大程度地利用已布设的各种线缆，在网络覆盖及终端接入层面上为物联网的普及提供了现实的实体支撑。
* `ISDN（Integrated Services Digital Network，ISDN， 综合业务数字网）`，是一个数字电话网络国际标准，是一种典型的电路交换网络系统（circuit-switching network）。它通过普通的铜缆以更高的速率和质量传输语音和数据。ISDN是欧洲普及的电话网络形式。GSM移动电话标准也可以基于ISDN传输数据。
* `OTN（Optical Transport Network）`，ITU-T将光纤传输网络定义为能够提供承载客户信号的光信道的传输，复用，交换，管理，监控和生存能力功能的通过光纤链路连接的一组光网络元件。OTN是以波分复用技术为基础、在光层组织网络的传送网，是下一代的骨干传送网。
* `SONET（Synchronous Optical Networking，同步光纤网络） and SDH（Synchronous Digital Hierarchy，同步数字体系）`，SONET是使用光纤进行数字化信息通信的一个标准。为了传送大量的电话和数据业务就开发了它用以替换准同步数字体系（PDH）系统，它由Telcodia的GR-253-CORE定义。更先进的SDH标准建立在SONET发展的经验上。今天SONET和SDH两种技术体制都被广泛的应用；SONET应用在美国和加拿大，SDH应用在世界其他国家。
* `Telephone network modems（调制解调器） V.92`，调制解调器是一种网络硬件设备，发送端对数字信息编码然后调制成一个或多个载波信号进行传输，最后接收端经过解调载波信号然后解码得到原始的数字信息，其目的是产生一个可以容易传输和解码以再现原始数字信息的信号。调制解调器可以用于从发光二极管发射模拟信号到无线电的任何手段，一种常用的的调制解调器是将计算机的数字信息调制成电信号，然后通过`电话线`进行传输，并由接收端的另一调制解调器进行解调以恢复原始数字信息。
* `USB（Universal Serial Bus， 通用串行总线）` 物理层，是连接计算机系统与外部设备的一种串口总线标准，也是一种输入输出接口的技术规范，被广泛地应用于个人电脑和移动设备等信息通讯产品，并扩展至摄影器材、数字电视（机顶盒）、游戏机等其它相关领域。
* `Varieties of 802.11， WI-FI`物理层，IEEE 802.11是现今无线局域网通用的标准，它是由国际电机电子工程学会（IEEE）所定义的无线网络通信的标准。Wi-Fi，是Wi-Fi联盟制造商的商标做为产品的品牌认证，是一个创建于IEEE 802.11标准的无线局域网技术。

### 非常见的物理层协议
* `1-Wire`，是由Dallas半导体公司设计的器件通信总线系统，可通过一条线路提供低速数据，信号和功率。
* `ARINC 818 Avionics Digital Video Bus（航空电子数字视频总线）`，于2007年1月由航空电子委员会（AEEC）正式对外发布，主要是为了满足航空电系统中高性能和关键数字视频任务传输的迫切需求。
* `CAN（Controller Area Network，控制器局域网络）`，是ISO国际标准化的串行通信协议。在汽车产业中，出于对安全性、舒适性、方便性、低公害、低成本的要求，各种各样的电子控制系统被开发了出来。由于这些系统之间通信所用的数据类型及对可靠性的要求不尽相同，由多条总线构成的情况很多，线束的数量也随之增加。为适应”减少线束的数量”、”通过多个LAN，进行大量数据的高速通信”的需要，1986 年德国电气商博世公司开发出面向汽车的CAN 通信协议。此后，CAN 通过ISO11898 及ISO11519 进行了标准化，在欧洲已是汽车网络的标准协议。 
* `Etherloop`，是一种结合了以太网和DSL功能的DSL技术。它允许在标准电话线上组合语音和数据传输。 在正确的条件下，它允许在最多6.4公里（21,000英尺）的范围内以高达每秒6兆比特的速度传输。
* `I²C（Inter-Integrated Circuit）， I²S（Inter-IC Sound）`，I²C ，是由飞利浦半导体（现在的恩智浦半导体）发明的多主多从机，分组交换，单端，串行的计算机总线，它通常用于将低速外围IC连接主板、嵌入式系统或手机等设备。I²S是IC间传输数字音频数据的一种接口标准，采用序列的方式传输2组（左右声道）数据。I²S常被使用在发送CD的PCM音频数据到CD播放器的DAC中。由于I²S将数据信号和时钟频率信号分开发送，它的抖动（jitter）有损十分地小。 
* `IEEE 1394`，IEEE 1394是用于高速通信和同步实时数据传输的串行总线的接口标准。 它是在20世纪80年代后期和20世纪90年代初由苹果公司开发的，它被称为火线（FireWire）。 火线一词为苹果电脑登记之商标，因此其他制造商在运用这项科技时，会采用不同的名称，比如i.LINK（索尼）和Lynx（德州仪器）。
* `IrDA` 物理层， IrDA提供了一套完整的无线红外通信协议规范，使用IrDA的主要原因是使用点对点原理在最后一米的距离上进行无线数据传输，因此，它广泛应用于诸如移动电话，膝上型计算机，照相机，打印机和医疗设备等便携式设备中。
*  `SPI（Serial Peripheral Interface Bus，串行外设接口）`，是一种用于短程通信的同步串行通信接口规范，主要应用于单片机系统中。类似I²C。 这种接口首先被Motorola（摩托罗拉）公司开发，然后发展成了一种行业规范。典型应用包含SD卡和液晶显示器。 SPI设备之间使用全双工模式通信，包含一个主机和一个或多个从机。主机产生待读或待写的帧数据，多个从机通过一个片选线路 决定哪个来响应主机的请求。 有时SPI接口被称作四线程接口，SPI准确来讲称为同步串行接口，但是与同步串行接口协议（SSI）不同，SSI是一个四线程 同步通信协议，但是使用差分信号输入同时仅提供一个单工通信信道。
* `SMB` （The System Management Bus，系统管理总线）`，是一种两条讯号所组成源自于I²C的一种总线，其设计应用于轻量级的通讯。最常于主板的电源开关指令的通讯中发现其存在（例如笔记型电脑中，重复充电的子系统），其他的元件，例如温度、风扇或电压的感测器的通讯中也可以看到其踪影。
* `T-carrier links（T载波）， and E-carrier links（E载波）`，T载波（T1、T3），是贝尔实验室于1960年代所研发，为了在数位传输线上传送语音讯号所发展的多工传送方式，其资料传送速度分别是1.544Mbps，44.736Mbps，Fractional T1是指将T1的频宽加以分割，提供给频宽需求低于T1速度的使用者。E载波（E1、E3等）类似于“北美T载波”，是提供复用、多信道、点对点通信链路的通信系统和标准。通信公司使用它来链接远程电话交换局并普遍用于用户到通信公司的接入链路。
* `TransferJet` 物理层，  一种近距离无线传输技术标准，由索尼公司研发，于2008年发表。TransferJet技术，类似于近场通讯技术，能让两个贴近的电子装置，以点对点方式，高速交换资料。它的传输率可以达到375Mbps，主要运作于560MHz频带中，采用4.48GHz频道。它与其他近场通讯技术的主要不同，在于它采取电感磁场原理，而不是无线电频率的技术来实做，这让它不会受到其他无线技术的干扰或退化现象。
* `X10`，用于家庭自动化的电子设备之间的通信协议。 它主要使用电力线路来进行信令和控制，其中信号涉及表示数字信息的短暂的射频突发。

数据链接层
----------


Happy developing！

--------

参考资料
--------
1. [OSI模型](https://zh.wikipedia.org/wiki/OSI%E6%A8%A1%E5%9E%8B/)